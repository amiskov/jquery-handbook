<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Основы jQuery | 2. Selecting elements</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/jquery-handbook/assets/css/10.styles.27f07c85.css" as="style"><link rel="preload" href="/jquery-handbook/assets/js/app.c2cea729.js" as="script"><link rel="preload" href="/jquery-handbook/assets/js/7.8f8aa961.js" as="script"><link rel="prefetch" href="/jquery-handbook/assets/js/5.538054b4.js"><link rel="prefetch" href="/jquery-handbook/assets/js/0.10c57b0b.js"><link rel="prefetch" href="/jquery-handbook/assets/js/1.b1313eb9.js"><link rel="prefetch" href="/jquery-handbook/assets/js/2.24c05937.js"><link rel="prefetch" href="/jquery-handbook/assets/js/3.b1b10936.js"><link rel="prefetch" href="/jquery-handbook/assets/js/4.dca42521.js"><link rel="prefetch" href="/jquery-handbook/assets/js/6.19b687bd.js"><link rel="prefetch" href="/jquery-handbook/assets/js/8.dc86523a.js"><link rel="prefetch" href="/jquery-handbook/assets/js/9.1bb06ecd.js">
    <link rel="stylesheet" href="/jquery-handbook/assets/css/10.styles.27f07c85.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/jquery-handbook/" class="home-link router-link-active"><!----><span class="site-name">
      Основы jQuery
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><!----></div></header><div class="sidebar-mask"></div><div class="sidebar"><!----><ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>DOM</span><!----></p><ul class="sidebar-group-items"><li><a href="/jquery-handbook/ch01/" class="sidebar-link">1. Introducing jQuery</a></li><li><a href="/jquery-handbook/ch02/" class="active sidebar-link">2. Selecting elements</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/jquery-handbook/ch02/#_2-3-retrieving-elements-by-their-hierarchy" class="sidebar-link">2.3 Retrieving elements by their hierarchy</a></li><li class="sidebar-sub-header"><a href="/jquery-handbook/ch02/#_2-4-selecting-elements-using-attributes" class="sidebar-link">2.4 Selecting elements using attributes</a></li><li class="sidebar-sub-header"><a href="/jquery-handbook/ch02/#_2-5-introducing-filters-псевдокnассы-css-бонусы-jquery" class="sidebar-link">2.5 Introducing filters (псевдоклассы CSS + бонусы jQuery)</a></li><li class="sidebar-sub-header"><a href="/jquery-handbook/ch02/#_2-6-enhancing-performances-using-context" class="sidebar-link">2.6 Enhancing performances using context</a></li><li class="sidebar-sub-header"><a href="/jquery-handbook/ch02/#ссыnки" class="sidebar-link">Ссылки</a></li></ul></li><li><a href="/jquery-handbook/ch03/" class="sidebar-link">3. Operating on a jQuery collection</a></li><li><a href="/jquery-handbook/ch04/" class="sidebar-link">4. Working with properties, attributes, and data</a></li><li><a href="/jquery-handbook/ch05/" class="sidebar-link">5 Bringing pages to life with jQuery</a></li><li><a href="/jquery-handbook/ch10/" class="sidebar-link">10. Talk to the server with Ajax</a></li><li><a href="/jquery-handbook/ch11/" class="sidebar-link">11 Demo: an Ajax-powered contact form</a></li><li><a href="/jquery-handbook/ch13/" class="sidebar-link">13 Avoiding the callback hell with Deferred</a></li></ul></div></li></ul></div><div class="page"><div class="content"><h1 id="_2-selecting-elements"><a href="#_2-selecting-elements" aria-hidden="true" class="header-anchor">#</a> 2. Selecting elements</h1><ul><li>Selecting elements with jQuery by using CSS selectors</li><li>Discovering the unique jQuery-only filters</li><li>Developing custom filters</li><li>Learning the context parameter of the jQuery() function</li></ul><div class="tip custom-block"><p class="custom-block-title">Селекторы</p><p>jQuery-селекторы полностью совместимы с CSS3. <a href="https://learn.javascript.ru/css-selectors" target="_blank" rel="noopener noreferrer">Изучите<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> CSS-селекторы как следует.</p></div><p>Переменные с объектами jQuery нужно именовать с префиксом <code>$</code>, чтобы отличать jQuery-объекты от обычных DOM-объектов (которые могут быть выбраны, например, через <code>document.querySelectorAll()</code>:</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> $allElements <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// доллар-префикс</span>
</code></pre></div><h3 id="_2-2-2-id-selector"><a href="#_2-2-2-id-selector" aria-hidden="true" class="header-anchor">#</a> 2.2.2 Id selector</h3><p>Айдишники могут содержать что угодно, кроме пробелов (стандарт w3c). Эти символы можно эскейпить: <code>$('#hello\\.world')</code> — точка внутри айдишника.</p><p>Под капотом используется <code>getElementById</code>.</p><p>Вернет первый попавшийся элемент с айди. Или нулевую коллекцию, если таких айдишников нет.</p><p>Нельзя использовать с именами тегов, классами. Потеряем в производительности:</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Плохо:</span>
<span class="token keyword">let</span> $slider <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'div#slider'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Хорошо:</span>
<span class="token keyword">let</span> $slider <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#slider'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-2-3-class-selector"><a href="#_2-2-3-class-selector" aria-hidden="true" class="header-anchor">#</a> 2.2.3 class selector</h3><p>Не привязываемся к элементам (используем БЭМ). Ищем по классам:</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Плохо:</span>
<span class="token keyword">let</span> $slider <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'div.js-slider'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Хорошо:</span>
<span class="token keyword">let</span> $slider <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.js-slider'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-2-4-tag-selector"><a href="#_2-2-4-tag-selector" aria-hidden="true" class="header-anchor">#</a> 2.2.4 Tag selector</h3><p><code>getElementsByTagName</code> под капотом.</p><p>Не использовать с <code>id</code>. Это бессмысленно и вредит производительности.</p><p>Этот селектор самый медленный, нужно использовать с осторожностью.</p><p>Так делать можно (если очень надо), проход по DOM производится 1 раз:</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> $els <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'div, span'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_2-3-retrieving-elements-by-their-hierarchy"><a href="#_2-3-retrieving-elements-by-their-hierarchy" aria-hidden="true" class="header-anchor">#</a> 2.3 Retrieving elements by their hierarchy</h2><p><a href="https://learn.javascript.ru/css-selectors#%D0%BE%D1%82%D0%BD%D0%BE%D1%88%D0%B5%D0%BD%D0%B8%D1%8F" target="_blank" rel="noopener noreferrer">Селекторы по взаимному расположению элементов<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><ul><li><code>#slider &gt; li</code> — непосредственные дочерние элементы</li><li><code>.current ~ li</code> — все последующие <code>li</code> того же уровня, что и <code>.current</code></li><li><code>.current + li</code> — первый следующий элемент того же уровня, что и <code>.current</code></li></ul><h2 id="_2-4-selecting-elements-using-attributes"><a href="#_2-4-selecting-elements-using-attributes" aria-hidden="true" class="header-anchor">#</a> 2.4 Selecting elements using attributes</h2><p><code>querySelectorAll</code> под капотом.</p><p>Нужно быть внимательными с кавычками: <code>$('a[href^=&quot;http://&quot;');</code>. Использовать сочетание одинарные/двойные и по возможности избегать экранирования.</p><p>Элемент в селекторе использовать необязательно: <code>$('[class^=&quot;js-&quot;]')</code> — выбрать все элементы, класс которых начинается с <code>js-</code>.</p><p>В CSS нет фильтра <code>!=</code> для атрибутов. Но он есть в jQuery (своя реализация, выполняется дольше):</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;a[href!='http://jquery.com']&quot;</span><span class="token punctuation">)</span> <span class="token comment">// все ссылки, кроме http://jquery.com</span>
</code></pre></div><p>Можно использовать несколько атрибутов: <code>input[type=&quot;text&quot;][required]</code>.</p><ul><li><a href="https://learn.javascript.ru/css-selectors#%D1%81%D0%B5%D0%BB%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D1%8B-%D0%B0%D1%82%D1%80%D0%B8%D0%B1%D1%83%D1%82%D0%BE%D0%B2" target="_blank" rel="noopener noreferrer">Селекторы атрибутов<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul><h2 id="_2-5-introducing-filters-псевдокnассы-css-бонусы-jquery"><a href="#_2-5-introducing-filters-псевдокnассы-css-бонусы-jquery" aria-hidden="true" class="header-anchor">#</a> 2.5 Introducing filters (псевдоклассы CSS + бонусы jQuery)</h2><h3 id="_2-5-1-position-filters"><a href="#_2-5-1-position-filters" aria-hidden="true" class="header-anchor">#</a> 2.5.1 Position filters</h3><p>Фильтры из jQuery (нет в CSS):</p><ul><li><code>:first</code></li><li><code>:last</code></li><li><code>:even</code></li><li><code>:odd</code></li><li><code>:eq(n)</code> — выбрать элемент с индексом <code>n</code> (может быть отрицательным)</li><li><code>:gt(n)</code> — выбрать элементы после текущего не включая его (может быть отрицательным)</li><li><code>:lt(n)</code> — выбрать элементы перед текущим не включая его (может быть отрицательным)</li></ul><p>Отрицательный аргумент <code>n</code> будет брать элементы с конца коллекции: последний — <code>-1</code>, предпоследний <code>-2</code> и т. д.</p><p>В фильтрах, которые дает jQuery, индексы начинаются с <code>0</code>. В фильтрах из спецификации CSS индексы идут с <code>1</code>.</p><h3 id="_2-5-2-child-filters"><a href="#_2-5-2-child-filters" aria-hidden="true" class="header-anchor">#</a> 2.5.2 Child filters</h3><p><code>eq</code> работает только с выборкой по селектору, <code>nth-child</code> работает <em>со всеми элементами внутри родителя, независимо от их типа, даже если в селекторе они не указаны</em>. См. <a href="/jquery-handbook/ch02/examples/selectors_example.html"><code>./examples/selectors_example.html</code></a>, пример <code>nth-child vs eq</code>.</p><h3 id="_2-5-3-form-filters"><a href="#_2-5-3-form-filters" aria-hidden="true" class="header-anchor">#</a> 2.5.3 Form filters</h3><p>Выбрать чекнутые чекбоксы: <code>$('input[type=&quot;checkbox&quot;]:checked')</code>. Нужно использовать именно CSS-псевдокласс <code>:checked</code>.</p><p>Так выберутся только те, которые изначально чекнутые в HTML (прописан атрибут <code>checked</code>): <code>$('input[type=&quot;checkbox&quot;][checked]')</code>.</p><p>Есть jQuery, нет в CSS:</p><ul><li><code>:checkbox</code>: <code>$('input:checkbox:checked')</code>.</li><li><code>:button</code> — выберет кнопки (<code>button</code> и <code>input[type=&quot;reset|submit|button]</code>).</li><li><code>:file</code> — <code>input[type=&quot;file&quot;]</code></li><li><code>:image</code> — <code>input[type=&quot;image&quot;]</code></li><li><code>:input</code> — form elements: <code>input|select|textarea|button</code></li><li><code>:password</code> — <code>input[type=&quot;password&quot;]</code></li><li><code>:radio</code> — <code>input[type=&quot;radio&quot;]</code></li><li><code>:reset</code> — <code>input[type=&quot;reset&quot;]</code>, <code>button[type=&quot;reset&quot;]</code></li><li><code>:selected</code> — выбранные элементы <code>option</code> в селекте</li><li><code>:submit</code> — <code>input[type=&quot;submit&quot;]</code>, <code>button[type=&quot;submit&quot;]</code></li><li><code>:text</code> — <code>input[type=&quot;text&quot;]</code>, <code>input</code> без указанного типа (<code>text</code> будет по умолчанию)</li></ul><h3 id="_2-5-4-content-filters"><a href="#_2-5-4-content-filters" aria-hidden="true" class="header-anchor">#</a> 2.5.4 Content filters</h3><p>Нет в CSS:</p><ul><li><code>$('li:has(a):contains(Link 3)')</code> — выбрать все ссылки с текстом <code>Link 3</code> внутри <code>li</code>.</li><li><code>:parent</code> — выберет элементы, которые являются родителями (содержать хоть один дочерний).</li></ul><p>Есть в CSS:</p><ul><li><code>:empty</code> — выбрать пустой элемент (нет детей).</li></ul><h3 id="_2-5-5-other-filters"><a href="#_2-5-5-other-filters" aria-hidden="true" class="header-anchor">#</a> 2.5.5 Other filters</h3><p>jQuery-фильтры (нет в CSS):</p><ul><li>Visibility: <code>:hidden</code>, <code>:visible</code></li><li>Обратить селектор: <code>input:not(:checkbox)</code>.</li><li><code>:animated</code> — элементы в процессе анимации</li><li><code>:header</code> — заголовки <code>h1...h6</code></li></ul><p>Нужно сначала сделать выборку и только потом ее фильтровать через <code>:not</code>:</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Не так:</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">':not[img[src*=&quot;dog&quot;]'</span><span class="token punctuation">)</span> <span class="token comment">// выдает все, что не img</span>

<span class="token comment">// а так:</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'img:not([src*=&quot;dog&quot;]'</span><span class="token punctuation">)</span> <span class="token comment">// нормально отработает</span>
</code></pre></div><p><code>:hidden</code> — не видны на странице. Входит и <code>display: none</code>, <code>visibility: hidden</code>, <code>input[type=&quot;hidden&quot;]</code>.</p><p><strong>В jQuery 3 <code>&lt;br&gt;</code> и пустые инлайновые элементы считаются видимыми</strong>. Они фактически занимают место (перевод строки, пробел).</p><h3 id="_2-5-6-how-to-create-custom-filters"><a href="#_2-5-6-how-to-create-custom-filters" aria-hidden="true" class="header-anchor">#</a> 2.5.6 How to create custom filters</h3><p>Можно создавать кастомные фильтры для выборок, которые часто повторяются.</p><p>Пример: http://jsbin.com/mucigo/edit?html,js,console,output</p><h2 id="_2-6-enhancing-performances-using-context"><a href="#_2-6-enhancing-performances-using-context" aria-hidden="true" class="header-anchor">#</a> 2.6 Enhancing performances using context</h2><p>По умолчанию в <code>$()</code> подразумевается, что выборка по селектору идет внутри <code>document</code>. Но мы можем задать контекст вторым параметром (DOM-элемент, строка или jQuery-коллекция).</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Плохо, самый медленный вариант. Ищем сначала p, потом фильтруем по #myId:</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#myId p'</span><span class="token punctuation">)</span>

<span class="token comment">// Лучше, работает быстрее, вернет то же самое, но будет искать сначала #myId, а потом внутри него p:</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">,</span> <span class="token string">'#myId'</span><span class="token punctuation">)</span>

<span class="token comment">// Хорошо. Работает как предыдущий, но читается проще:</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#myId'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span>
</code></pre></div><p>Если имеется выборка и нужно найти что-то внутри нее, то используем контекстный поиск через <code>.find</code>:</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> $form <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#myForm'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Хорошо:</span>
$form<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">':checked'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">'_on'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Плохо. Через второй параметр $ будет то же самое, но читается хуже:</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">':checked'</span><span class="token punctuation">,</span> $form<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">'_on'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>См. <a href="/jquery-handbook/ch02/examples/2.6_performance.html">пример</a>.</p><h2 id="ссыnки"><a href="#ссыnки" aria-hidden="true" class="header-anchor">#</a> Ссылки</h2><ul><li><a href="https://api.jquery.com/category/selectors/" target="_blank" rel="noopener noreferrer">Все селекторы jQuery<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><div class="content edit-link"><!----><!----></div><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/jquery-handbook/ch01/" class="prev">
          1. Introducing jQuery
        </a></span><span class="next"><a href="/jquery-handbook/ch03/">
          3. Operating on a jQuery collection
        </a> →
      </span></p></div></div></div></div>
    <script src="/jquery-handbook/assets/js/7.8f8aa961.js" defer></script><script src="/jquery-handbook/assets/js/app.c2cea729.js" defer></script>
  </body>
</html>
